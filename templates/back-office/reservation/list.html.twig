{% extends 'base-back.html.twig' %}



{% block body %}
    <script src="https://cdn.jsdelivr.net/npm/fullcalendar@5.10.2/main.min.js" integrity="sha256-YicH/8aE660iEnJtgll3vT54dJApy3XkYmqNfGVFEzA=" crossorigin="anonymous"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/fullcalendar@5.10.2/main.css" integrity="sha256-jLWPhwkAHq1rpueZOKALBno3eKP3m4IMB131kGhAlRQ=" crossorigin="anonymous">

    <div class="nk-content "><div class="container-fluid"><div class="nk-content-inner"><div class="nk-content-body">
                    <div class="nk-block-head nk-block-head-sm"><div class="nk-block-between"><div class="nk-block-head-content">
                                <h3 class="nk-block-title page-title">Liste des Réservations</h3><div class="nk-block-des text-soft">
                                    <p>You have total 1000 Réservations</p>
                                </div>
                            </div>
                            <div class="nk-block-head-content">
                                <div class="toggle-wrap nk-block-tools-toggle">
                                    <a href="#" class="btn btn-icon btn-trigger toggle-expand mr-n1" data-target="pageMenu">
                                        <em class="icon ni ni-menu-alt-r"></em>
                                    </a>
                                    <div class="toggle-expand-content" data-content="pageMenu">
                                        <ul class="nk-block-tools g-3"></ul>
                                    </div>
                                </div>
                                </li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <table class="table">
                <thead>
                <tr>
                    <th scope="col">ID</th>
                    <th scope="col">Client</th>
                    <th scope="col">Hotel</th>
                    <th scope="col">Date Arrivée</th>
                    <th scope="col">Date Depart</th>
                    <th scope="col">Nombre de personnes</th>
                    <th scope="col">Prix</th>





                </tr>
                </tr>
                </thead>
                <tbody>
                {% for c in reservation %}
                    <tr>
                        <th scope="row">{{ c.id }}</th>
                        <td>{{ c.user.nom }} {{ c.user.prenom }}</td>
                        <td>{{ c.hotel.name }} </td>
                        <td>{{ c.getDateDebut()|date('d-m-Y') }}  </td>
                        <td>{{ c.getDateFin()|date('d-m-Y') }}</td>
                        <td>{{ c.nbrperson }}</td>
                        <td>{{ c.prixreservation }}</td>



                        <td><button class="btn btn-primary"><a class="text-light"  href="{{ path( 'updater' , {'id':c.id} )}}">update</a></button>       <button class="btn btn-danger" ><a class="text-light" href="{{ path( 'deleter' , {'id':c.id} )}}">delete</a></button></td>

                    </tr>

                {% endfor %}
                </tbody>
            </table>

            <div id="calendrier">

            </div>

        </div>
    </div>
    </div>

    <style>

        #calendrier{
            width: 80%;
            margin: auto;
        }
    </style>

    <script>

        window.onload= () => {
            let calendarElt=document.querySelector("#calendrier")
            let calendar =new FullCalendar.Calendar(calendarElt,{
                    initialView:'dayGridMonth',
                    headerToolbar:{
                        start:'prev,next today',
                        center:'title',
                        end:'dayGridMonth,timeGridWeek'
                    },


                }
            )
            calendar.render()
        }



    </script>





{% endblock %}